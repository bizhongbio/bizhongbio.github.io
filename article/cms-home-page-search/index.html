<!DOCTYPE html>
<html lang="zh-cmn-Hans">
  <head>
    <meta charset="utf-8">
    <title>CMS首页、分页、搜索的实现 | 双鱼bizhongbio - 渡人渡己，前端开发技术博客</title>
    <base href="https://bizhongbio.github.io/">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="google" value="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <meta name="description" content="一、前言 暑假期间，为了更好的学习一些后台的技术，我们团队一起做了用 Node.js、基于 Node.js 平台的 web 应用开发框架 Express、Node.js 模板引擎 Swig、MongoDB、MVC 框架等开发技术实现“新思路团队 CMS 内容…">
    <meta name="keywords" content="MongoDB, Node.js">
    <meta name="author" content="兰必钟（Bizhong Lan）, https://bizhong.github.io/">
    <meta name="robots" content="index, follow">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="双鱼bizhongbio">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no, email=no">
    <meta name="theme-color" content="#e0e0e0">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="./asset/img/ms-title-144x144.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@双鱼bizhongbio">
    <meta name="twitter:title" content="CMS首页、分页、搜索的实现">
    <meta name="twitter:description" content="一、前言 暑假期间，为了更好的学习一些后台的技术，我们团队一起做了用 Node.js、基于 Node.js 平台的 web 应用开发框架 Express、Node.js 模板引擎 Swig、MongoDB、MVC 框架等开发技术实现“新思路团队 CMS 内容…">
    <meta name="twitter:image" content="https://bizhongbio.github.io/article/cms-home-page-search/cms-home-page-search.jpg">
    <meta property="og:site_name" content="双鱼bizhongbio">
    <meta property="og:url" content="https://bizhongbio.github.io/article/cms-home-page-search/">
    <meta property="og:type" content="article">
    <meta property="og:title" content="CMS首页、分页、搜索的实现">
    <meta property="og:description" content="一、前言 暑假期间，为了更好的学习一些后台的技术，我们团队一起做了用 Node.js、基于 Node.js 平台的 web 应用开发框架 Express、Node.js 模板引擎 Swig、MongoDB、MVC 框架等开发技术实现“新思路团队 CMS 内容…">
    <meta property="og:image" content="https://bizhongbio.github.io/article/cms-home-page-search/cms-home-page-search.jpg">
    <meta itemprop="name" content="CMS首页、分页、搜索的实现">
    <meta itemprop="description" content="一、前言 暑假期间，为了更好的学习一些后台的技术，我们团队一起做了用 Node.js、基于 Node.js 平台的 web 应用开发框架 Express、Node.js 模板引擎 Swig、MongoDB、MVC 框架等开发技术实现“新思路团队 CMS 内容…">
    <meta itemprop="image" content="https://bizhongbio.github.io/article/cms-home-page-search/cms-home-page-search.jpg">
    <link rel="fluid-icon" href="https://bizhongbio.github.io/asset/img/fluid-icon-512x512.png" title="双鱼bizhongbio">
    <link rel="apple-touch-icon" sizes="57x57" href="./asset/img/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./asset/img/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./asset/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./asset/img/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./asset/img/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./asset/img/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./asset/img/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./asset/img/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./asset/img/apple-touch-icon-180x180.png">
    <link rel="shortcut icon" href="./favicon.ico">
    <link rel="icon" sizes="32x32" href="./asset/img/favicon-32x32.png">
    <link rel="icon" sizes="192x192" href="./asset/img/android-chrome-192x192.png">
    <link rel="icon" sizes="96x96" href="./asset/img/favicon-96x96.png">
    <link rel="icon" sizes="16x16" href="./asset/img/favicon-16x16.png">
    <link rel="manifest" href="./asset/img/manifest.json">
    <link rel="mask-icon" href="./asset/img/safari-pinned-tab.svg" color="#000000">
    <link rel="stylesheet" href="./asset/dep/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="./asset/css/bizhongbio.min.css">
    <link rel="stylesheet" id="crayon-css" href="./asset/dep/crayon-syntax-highlighter/css/min/crayon.min.css" type="text/css" media="all">
    <link rel="stylesheet" id="crayon-theme-familiar-css" href="./asset/dep/crayon-syntax-highlighter/themes/familiar/familiar.css" type="text/css" media="all">
    <link rel="stylesheet" id="crayon-font-monaco-css" href="./asset/dep/crayon-syntax-highlighter/fonts/monaco.css" type="text/css" media="all">
    <link rel="canonical" href="https://bizhongbio.github.io/article/cms-home-page-search/">
    <!--[if lt IE 9]>
      <script src="./asset/dep/html5shiv/html5shiv.min.js"></script>
      <script src="./asset/dep/respond/respond.min.js"></script>
    <![endif]-->
  </head>
  <body id="single">
    <!--[if lt IE 8]><p id="upgrade-browser-reminder">经年的执念，放下吧。快搭上升级浏览器的末班车。</p><![endif]-->
    <header id="header" role="banner">
      <div class="header-content">
        <a id="btn-nav" href="javascript:void(0);"><i class="fa fa-navicon"></i></a>
        <h1 class="logo"><a href="./">双鱼bizhongbio</a></h1>
        <nav class="nav" aria-label="Global navigation" role="navigation">
          <div class="menu-nav-container">
            <ul id="menu-nav" class="menu">
              <li><a href="./">首页</a></li>
              <li class="current-menu-item"><a href="./article/">文章</a></li>
              <li><a href="./project/">项目</a></li>
              <li><a href="./work/">作品</a></li>
              <li><a href="./video/">视频</a></li>
              <li><a href="./about/">关于</a></li>
            </ul>
          </div>
        </nav>
        <a id="btn-search" href="javascript:void(0);"><i class="fa fa-search"></i></a>
        <form id="searchform" method="get" action="./">
          <input id="s" name="s" type="text" value="" placeholder="请输入关键字">
          <button class="submit" type="submit"><i class="fa fa-search"></i></button>
        </form>
      </div>
    </header>
    <main class="main" role="main">
      <div class="content">
        <article id="article">
          <section class="article-header">
            <h1>CMS首页、分页、搜索的实现</h1>
            <span><i class="fa fa-calendar-check-o"></i>2015.10.10 10:00</span>
            <span><i class="fa fa-user-secret"></i>bizhongbio</span>
            <span><i class="fa fa-bookmark"></i><a href="./tag/mongodb/" rel="tag">MongoDB</a>, <a href="./tag/node-js/" rel="tag">Node.js</a></span>
            <span><i class="fa fa-eye"></i>799</span>
            <span><i class="fa fa-commenting"></i><a href="./article/cms-home-page-search/index.html#comments">2</a></span>
          </section>
          <section class="article-content">
            <h2>一、前言</h2>
            <p>暑假期间，为了更好的学习一些后台的技术，我们团队一起做了用 Node.js、基于 Node.js 平台的 web 应用开发框架 Express、Node.js 模板引擎 Swig、MongoDB、MVC 框架等开发技术实现“新思路团队 CMS 内容管理系统”这个项目。老师分配给我的任务是首页、分页、搜索。</p>
            <h2>二、准备</h2>
            <p>安装 <strong>Node.js</strong>、<strong>MongoDB</strong>、<strong>Git</strong>。</p>
            <h2>三、学习</h2>
            <ul>
              <li>MongoDB</li>
              <li>Node.js</li>
              <li>基于 Node.js 平台的 web 应用开发框架 Express</li>
              <li>Node.js 模板引擎 swig</li>
              <li>了解 MVC 框架</li>
            </ul>
            <h2>四、流程</h2>
            <ul>
              <li>1、将路由请求写在 routes.js 文件里</li>
              <li>2、路由处理的回调函数分离开来，写在 controls 文件夹里的某个文件里</li>
              <li>3、写 controls 的时候对数据库的操作，并用 res.render 渲染到模版里</li>
              <li>4、在 views 文件夹里写好模版</li>
              <li>5、将模版要用到的 js 和 css 文件以及图片都写到 publics 里面</li>
              <li>6、表单上传的文件存到 uploads 文件夹里</li>
            </ul>
            <h2>五、代码</h2>
            <p><strong>说明：</strong>以下首页、分页、搜索的实现并不是最终版。如果你想看我的整个项目，请访问 <a title="bizhong/cms-blog" href="https://github.com/bizhong/cms-blog" target="_blank">cms-blog</a>。</p>
            <h3>5.1 首页和首页分页</h3>
            <h4>1）home.html</h4>
            <!-- Crayon Syntax Highlighter v2.7.1 -->
            <div id="crayon-589c4fff50aa0994600256" class="crayon-syntax crayon-theme-familiar crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings="minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
              <div class="crayon-toolbar" data-settings="mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                <span class="crayon-title">home.html</span>
                <div class="crayon-tools" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                  <span class="crayon-mixed-highlight" title="含多种语言"></span>
                  <div class="crayon-button crayon-nums-button" title="切换是否显示行编号">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-plain-button" title="纯文本显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-wrap-button" title="切换自动换行">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-expand-button" title="点击展开代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-copy-button" title="复制代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-popup-button" title="在新窗口中显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                </div>
              </div>
              <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
              <div class="crayon-plain-wrap">
                <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4; font-size: 12px !important; line-height: 15px !important;">{% extends './layouts/web.html' %} {% block content %} &lt;div class="main"&gt; &lt;section class="articles"&gt; {% if posts.length %} {% for post in posts -%} &lt;article class="article"&gt; &lt;a href="/article/{{post.id}}"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;&lt;a href="/article/{{post.id}}"&gt;{{post.title}}&lt;/a&gt;&lt;/h1&gt; &lt;span&gt;{{post.time}} / &lt;a href="/personal/{{post.author}}"&gt;{{post.author}}&lt;/a&gt; / &lt;a href="/{{post.classes}}"&gt;{{post.classes}}&lt;/a&gt; / &lt;a href="/article/{{post.id}}/#respond"&gt;{{post.comments.users.length + post.comments.visitor.length}} Comments&lt;/a&gt;&lt;/span&gt; &lt;p&gt;{{post.content}}&lt;a href="/article/{{post.id}}"&gt; 阅读全文&lt;/a&gt;&lt;/p&gt; &lt;span class="article-tag"&gt;{% for tag in post.tag -%}&lt;a href="/tag/{{tag}}"&gt;{{tag}}&lt;/a&gt;{%- endfor %}&lt;/span&gt; &lt;/section&gt; &lt;/article&gt; {%- endfor %} {% else %} &lt;article class="article"&gt; &lt;a href="#"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;对不起&lt;/h1&gt; &lt;p&gt;{{ '还没有相关的内容' }}&lt;/p&gt; &lt;/section&gt; &lt;/article&gt; {% endif %} &lt;div class="pagenav"&gt; {% if perpagenum &lt; total %} {% for page in pages -%} {% if loop.index == current_page %}&lt;span class="current-page"&gt;{{page}}&lt;/span&gt;{% else %}&lt;a href="/{{category}}/page/{{page}}"&gt;{{page}}&lt;/a&gt;{% endif %} {%- endfor %} &lt;span&gt;共{{pages.length}}页&lt;/span&gt; {% else %} {% endif %} &lt;/div&gt; &lt;/section&gt; &lt;aside class="sidebar"&gt;&lt;/aside&gt; &lt;section class="clear"&gt;&lt;/section&gt; &lt;/div&gt; &lt;!--首页页面脚本文件--&gt; &lt;script type="text/javascript" src="/script/home.js"&gt;&lt;/script&gt; {% endblock %}</textarea>
              </div>
              <div class="crayon-main" style="">
                <table class="crayon-table">
                  <tr class="crayon-row">
                    <td class="crayon-nums" data-settings="show">
                      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-1">1</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-2">2</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-3">3</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-4">4</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-5">5</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-6">6</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-7">7</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-8">8</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-9">9</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-10">10</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-11">11</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-12">12</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-13">13</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-14">14</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-15">15</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-16">16</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-17">17</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-18">18</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-19">19</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-20">20</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-21">21</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-22">22</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-23">23</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-24">24</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-25">25</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-26">26</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-27">27</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-28">28</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-29">29</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-30">30</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-31">31</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-32">32</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-33">33</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-34">34</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-35">35</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-36">36</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-37">37</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-38">38</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-39">39</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-40">40</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50aa0994600256-41">41</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50aa0994600256-42">42</div>
                      </div>
                    </td>
                    <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4;"><div class="crayon-line" id="crayon-589c4fff50aa0994600256-1"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-s">'./layouts/web.html'</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-2">&nbsp;</div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-3"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">block </span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-4"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"main"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"articles"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">post </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">time</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/personal/{{post.author}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">author</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.classes}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">classes</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}/#respond"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">visitor</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-e">Comments</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>阅读全文<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article-tag"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">tag </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">tag</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/tag/{{tag}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">tag</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"#"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span>对不起<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">'还没有相关的内容'</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"pagenav"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">page </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">pages</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">current_page</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"current-page"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">page</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{category}}/page/{{page}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">page</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span>共<span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">pages</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span>页<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">aside </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"sidebar"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">aside</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"clear"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-39"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-40"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span>首页页面脚本文件<span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50aa0994600256-41"><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/script/home.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50aa0994600256-42"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endblock</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div></div></td>
                  </tr>
                </table>
              </div>
            </div>
            <!-- [Format Time: 0.0131 seconds] -->
            <h4>2）page.html</h4>
            <p>分类目录分页也是调用这个页面模板</p>
            <!-- Crayon Syntax Highlighter v2.7.1 -->
            <div id="crayon-589c4fff50ac0027944946" class="crayon-syntax crayon-theme-familiar crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings="minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
              <div class="crayon-toolbar" data-settings="mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                <span class="crayon-title">page.html</span>
                <div class="crayon-tools" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                  <span class="crayon-mixed-highlight" title="含多种语言"></span>
                  <div class="crayon-button crayon-nums-button" title="切换是否显示行编号">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-plain-button" title="纯文本显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-wrap-button" title="切换自动换行">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-expand-button" title="点击展开代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-copy-button" title="复制代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-popup-button" title="在新窗口中显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                </div>
              </div>
              <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
              <div class="crayon-plain-wrap">
                <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4; font-size: 12px !important; line-height: 15px !important;">{% extends './layouts/web.html' %} {% block content %} &lt;div class="main"&gt; &lt;section class="articles"&gt; {% for post in posts -%} &lt;article class="article"&gt; &lt;a href="/article/{{post.id}}"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;&lt;a href="/article/{{post.id}}"&gt;{{post.title}}&lt;/a&gt;&lt;/h1&gt; &lt;span&gt;{{post.time}} / &lt;a href="/{{post.author}}"&gt;{{post.author}}&lt;/a&gt; / &lt;a href="/{{post.classes}}"&gt;{{post.classes}}&lt;/a&gt; / &lt;a href="/article/{{post.id}}/#respond"&gt;{{post.comments.users.length + post.comments.visitor.length}} Comments&lt;/a&gt;&lt;/span&gt; &lt;p&gt;{{post.content}}&lt;a href="/article/{{post.id}}"&gt; 阅读全文&lt;/a&gt;&lt;/p&gt; &lt;span class="article-tag"&gt;{% for tag in post.tag -%}&lt;a href="/tag/{{tag}}"&gt;{{tag}}&lt;/a&gt;{%- endfor %}&lt;/span&gt; &lt;/section&gt; &lt;/article&gt; {%- endfor %} &lt;div class="pagenav"&gt; {% if perpagenum &lt; total %} {% for page in pages -%} {% if loop.index == current_page %}&lt;span class="current-page"&gt;{{page}}&lt;/span&gt;{% else %}&lt;a href="/{{category}}/page/{{page}}"&gt;{{page}}&lt;/a&gt;{% endif %} {%- endfor %} &lt;span&gt;共{{pages.length}}页&lt;/span&gt; {% else %} {% endif %} &lt;/div&gt; &lt;/section&gt; &lt;aside class="sidebar"&gt;&lt;/aside&gt; &lt;section class="clear"&gt;&lt;/section&gt; &lt;/div&gt; &lt;!--首页页面脚本文件--&gt; &lt;script type="text/javascript" src="/script/home.js"&gt;&lt;/script&gt; {% endblock %}</textarea>
              </div>
              <div class="crayon-main" style="">
                <table class="crayon-table">
                  <tr class="crayon-row">
                    <td class="crayon-nums" data-settings="show">
                      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-1">1</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-2">2</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-3">3</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-4">4</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-5">5</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-6">6</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-7">7</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-8">8</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-9">9</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-10">10</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-11">11</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-12">12</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-13">13</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-14">14</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-15">15</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-16">16</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-17">17</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-18">18</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-19">19</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-20">20</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-21">21</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-22">22</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-23">23</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-24">24</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-25">25</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-26">26</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-27">27</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-28">28</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-29">29</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-30">30</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac0027944946-31">31</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac0027944946-32">32</div>
                      </div>
                    </td>
                    <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4;"><div class="crayon-line" id="crayon-589c4fff50ac0027944946-1"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-s">'./layouts/web.html'</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-2">&nbsp;</div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-3"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">block </span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-4"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"main"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"articles"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">post </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">time</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.author}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">author</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.classes}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">classes</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}/#respond"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">visitor</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-e">Comments</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>阅读全文<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article-tag"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">tag </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">tag</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/tag/{{tag}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">tag</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"pagenav"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">page </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">pages</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">current_page</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"current-page"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">page</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{category}}/page/{{page}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">page</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span>共<span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">pages</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span>页<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">aside </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"sidebar"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">aside</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"clear"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-29"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-30"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span>首页页面脚本文件<span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ac0027944946-31"><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/script/home.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac0027944946-32"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endblock</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div></div></td>
                  </tr>
                </table>
              </div>
            </div>
            <!-- [Format Time: 0.0095 seconds] -->
            <h4>3）home_controls.js</h4>
            <!-- Crayon Syntax Highlighter v2.7.1 -->
            <div id="crayon-589c4fff50ac7036050434" class="crayon-syntax crayon-theme-familiar crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings="minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
              <div class="crayon-toolbar" data-settings="mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                <span class="crayon-title">home_controls.js</span>
                <div class="crayon-tools" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                  <div class="crayon-button crayon-nums-button" title="切换是否显示行编号">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-plain-button" title="纯文本显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-wrap-button" title="切换自动换行">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-expand-button" title="点击展开代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-copy-button" title="复制代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-popup-button" title="在新窗口中显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                </div>
              </div>
              <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
              <div class="crayon-plain-wrap">
                <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4; font-size: 12px !important; line-height: 15px !important;">var models = require('../models/models.js'); // 首页控制台 // 首页 exports.home = function(req, res){ var total,// 总文章数 pagenum,// 页数 perpagenum = 10,// 每页的条数 posts = [], pages = []; // console.log(page); models.articles.find({}, function(err, articles){ articles = articles.reverse();// 颠倒数组中元素的顺序 total = articles.length; pagenum = Math.ceil(total / perpagenum);// 对页数进行上舍入 // console.log(pagenum); for(var i = 0,len = pagenum; i &lt; len; i++){ pages[i] = i + 1; } for(var i = 0,len = (perpagenum &lt; total ? perpagenum : total); i &lt; len; i++){ posts[i] = articles[i]; } res.render('home', { title: '新思路团队网站 - NewThread', total: total, category: 'home', current_page: '1', perpagenum: perpagenum, pages: pages, posts: posts }); }); }; // 首页分页 exports.home_page = function(req, res){ var strUrl = req.url,// 字符串URL,如 /home/page/1 arrayUrl = strUrl.split("/"),// 把字符串以“/”分割成字符串数组 page = arrayUrl[arrayUrl.length-1],// 获取page的值 total,// 总文章数 pagenum,// 页数 perpagenum = 10,// 每页的条数 posts = [], pages = []; if( !isNaN(page) ){// 判断是否是数字 page = page; }else{ page = 1; } // console.log(page); models.articles.find({}, function(err, articles){ articles = articles.reverse();// 颠倒数组中元素的顺序 total = articles.length; pagenum = Math.ceil(total / perpagenum);// 对页数进行上舍入 // console.log(pagenum); for(var i = 0,len = pagenum; i &lt; len; i++){ pages[i] = i + 1; } for(var i = (page-1) * perpagenum,j = 0,len = (page * perpagenum &lt; total ? page * perpagenum : total); i &lt; len; i++,j ++){ posts[j] = articles[i]; } res.render('page', { title: '新思路团队网站 - NewThread', total: total, category: 'home', current_page: page, perpagenum: perpagenum, pages: pages, posts: posts }); }); };</textarea>
              </div>
              <div class="crayon-main" style="">
                <table class="crayon-table">
                  <tr class="crayon-row">
                    <td class="crayon-nums" data-settings="show">
                      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-1">1</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-2">2</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-3">3</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-4">4</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-5">5</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-6">6</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-7">7</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-8">8</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-9">9</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-10">10</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-11">11</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-12">12</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-13">13</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-14">14</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-15">15</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-16">16</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-17">17</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-18">18</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-19">19</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-20">20</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-21">21</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-22">22</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-23">23</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-24">24</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-25">25</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-26">26</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-27">27</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-28">28</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-29">29</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-30">30</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-31">31</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-32">32</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-33">33</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-34">34</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-35">35</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-36">36</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-37">37</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-38">38</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-39">39</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-40">40</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-41">41</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-42">42</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-43">43</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-44">44</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-45">45</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-46">46</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-47">47</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-48">48</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-49">49</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-50">50</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-51">51</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-52">52</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-53">53</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-54">54</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-55">55</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-56">56</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-57">57</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-58">58</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-59">59</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-60">60</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-61">61</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-62">62</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-63">63</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-64">64</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-65">65</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-66">66</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-67">67</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-68">68</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-69">69</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ac7036050434-70">70</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ac7036050434-71">71</div>
                      </div>
                    </td>
                    <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4;"><div class="crayon-line" id="crayon-589c4fff50ac7036050434-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'../models/models.js'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-2"><span class="crayon-c">// 首页控制台</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-4"><span class="crayon-c">// 首页</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-5"><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">home</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">,</span><span class="crayon-c">// 总文章数</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagenum</span><span class="crayon-sy">,</span><span class="crayon-c">// 页数</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-c">// 每页的条数</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// console.log(page);</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">articles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// 颠倒数组中元素的顺序</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagenum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">ceil</span><span class="crayon-sy">(</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// 对页数进行上舍入</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// console.log(pagenum);</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pagenum</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-i">total</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-s">'home'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'新思路团队网站 - NewThread'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">category</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'home'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">current_page</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'1'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perpagenum</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">pages</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">posts</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-33"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-34"><span class="crayon-c">// 首页分页</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-35"><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">home_page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">strUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">,</span><span class="crayon-c">// 字符串URL,如 /home/page/1</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">arrayUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">strUrl</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">"/"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-c">// 把字符串以“/”分割成字符串数组</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">arrayUrl</span><span class="crayon-sy">[</span><span class="crayon-v">arrayUrl</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-c">// 获取page的值</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-sy">,</span><span class="crayon-c">// 总文章数</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagenum</span><span class="crayon-sy">,</span><span class="crayon-c">// 页数</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-c">// 每页的条数</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-e">isNaN</span><span class="crayon-sy">(</span><span class="crayon-v">page</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-c">// 判断是否是数字</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">page</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// console.log(page);</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">articles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// 颠倒数组中元素的顺序</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagenum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">ceil</span><span class="crayon-sy">(</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// 对页数进行上舍入</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// console.log(pagenum);</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pagenum</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">page</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">,</span><span class="crayon-v">j</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e ">page *</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-i">total</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-e ">page *</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">,</span><span class="crayon-v">j</span><span class="crayon-h"> </span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-sy">[</span><span class="crayon-v">j</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-s">'page'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'新思路团队网站 - NewThread'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">category</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'home'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">current_page</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">page</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perpagenum</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">pages</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">posts</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ac7036050434-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ac7036050434-71"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div></div></td>
                  </tr>
                </table>
              </div>
            </div>
            <!-- [Format Time: 0.0128 seconds] -->
            <h3>5.2 分类目录和分类目录分页</h3>
            <h4>1）category.html</h4>
            <!-- Crayon Syntax Highlighter v2.7.1 -->
            <div id="crayon-589c4fff50ace745354857" class="crayon-syntax crayon-theme-familiar crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings="minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
              <div class="crayon-toolbar" data-settings="mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                <span class="crayon-title">category.html</span>
                <div class="crayon-tools" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                  <span class="crayon-mixed-highlight" title="含多种语言"></span>
                  <div class="crayon-button crayon-nums-button" title="切换是否显示行编号">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-plain-button" title="纯文本显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-wrap-button" title="切换自动换行">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-expand-button" title="点击展开代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-copy-button" title="复制代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-popup-button" title="在新窗口中显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                </div>
              </div>
              <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
              <div class="crayon-plain-wrap">
                <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4; font-size: 12px !important; line-height: 15px !important;">{% extends './layouts/web.html' %} {% block content %} &lt;div class="main"&gt; &lt;section class="articles"&gt; {% if posts.length %} {% for post in posts -%} &lt;article class="article"&gt; &lt;a href="/article/{{post.id}}"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;&lt;a href="/article/{{post.id}}"&gt;{{post.title}}&lt;/a&gt;&lt;/h1&gt; &lt;span&gt;{{post.time}} / &lt;a href="/{{post.author}}"&gt;{{post.author}}&lt;/a&gt; / &lt;a href="/{{post.classes}}"&gt;{{post.classes}}&lt;/a&gt; / &lt;a href="/article/{{post.id}}/#respond"&gt;{{post.comments.users.length + post.comments.visitor.length}} Comments&lt;/a&gt;&lt;/span&gt; &lt;p&gt;{{post.content}}&lt;a href="/article/{{post.id}}"&gt; 阅读全文&lt;/a&gt;&lt;/p&gt; &lt;span class="article-tag"&gt;{% for tag in post.tag -%}&lt;a href="/tag/{{tag}}"&gt;{{tag}}&lt;/a&gt;{%- endfor %}&lt;/span&gt; &lt;/section&gt; &lt;/article&gt; {%- endfor %} {% else %} &lt;article class="article"&gt; &lt;a href="#"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;对不起&lt;/h1&gt; &lt;p&gt;{{ '还没有与“' + category + '”分类目录相关的内容' }}&lt;/p&gt; &lt;/section&gt; &lt;/article&gt; {% endif %} &lt;div class="pagenav"&gt; {% if perpagenum &lt; total %} {% for page in pages -%} {% if loop.index == current_page %}&lt;span class="current-page"&gt;{{page}}&lt;/span&gt;{% else %}&lt;a href="/{{category}}/page/{{page}}"&gt;{{page}}&lt;/a&gt;{% endif %} {%- endfor %} &lt;span&gt;共{{pages.length}}页&lt;/span&gt; {% else %} {% endif %} &lt;/div&gt; &lt;/section&gt; &lt;aside class="sidebar"&gt;&lt;/aside&gt; &lt;section class="clear"&gt;&lt;/section&gt; &lt;/div&gt; &lt;!--首页页面脚本文件--&gt; &lt;script type="text/javascript" src="/script/home.js"&gt;&lt;/script&gt; {% endblock %}</textarea>
              </div>
              <div class="crayon-main" style="">
                <table class="crayon-table">
                  <tr class="crayon-row">
                    <td class="crayon-nums" data-settings="show">
                      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-1">1</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-2">2</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-3">3</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-4">4</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-5">5</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-6">6</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-7">7</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-8">8</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-9">9</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-10">10</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-11">11</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-12">12</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-13">13</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-14">14</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-15">15</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-16">16</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-17">17</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-18">18</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-19">19</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-20">20</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-21">21</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-22">22</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-23">23</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-24">24</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-25">25</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-26">26</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-27">27</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-28">28</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-29">29</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-30">30</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-31">31</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-32">32</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-33">33</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-34">34</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-35">35</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-36">36</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-37">37</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-38">38</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-39">39</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-40">40</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ace745354857-41">41</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ace745354857-42">42</div>
                      </div>
                    </td>
                    <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4;"><div class="crayon-line" id="crayon-589c4fff50ace745354857-1"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-s">'./layouts/web.html'</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-2">&nbsp;</div><div class="crayon-line" id="crayon-589c4fff50ace745354857-3"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">block </span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-4"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"main"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"articles"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">post </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">time</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.author}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">author</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.classes}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">classes</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}/#respond"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">visitor</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-e">Comments</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>阅读全文<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article-tag"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">tag </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">tag</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/tag/{{tag}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">tag</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"#"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span>对不起<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">'还没有与“'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">category</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'”分类目录相关的内容'</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"pagenav"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">page </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">pages</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">loop</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">current_page</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"current-page"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">page</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{category}}/page/{{page}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">page</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span>共<span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">pages</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span>页<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">aside </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"sidebar"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">aside</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"clear"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-39"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-40"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span>首页页面脚本文件<span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50ace745354857-41"><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/script/home.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ace745354857-42"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endblock</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div></div></td>
                  </tr>
                </table>
              </div>
            </div>
            <!-- [Format Time: 0.0117 seconds] -->
            <h4>2）category_controls.js</h4>
            <!-- Crayon Syntax Highlighter v2.7.1 -->
            <div id="crayon-589c4fff50ad4633927238" class="crayon-syntax crayon-theme-familiar crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings="minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
              <div class="crayon-toolbar" data-settings="mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                <span class="crayon-title">category_controls.js</span>
                <div class="crayon-tools" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                  <div class="crayon-button crayon-nums-button" title="切换是否显示行编号">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-plain-button" title="纯文本显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-wrap-button" title="切换自动换行">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-expand-button" title="点击展开代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-copy-button" title="复制代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-popup-button" title="在新窗口中显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                </div>
              </div>
              <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
              <div class="crayon-plain-wrap">
                <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4; font-size: 12px !important; line-height: 15px !important;">var models = require('../models/models.js'); // 分类目录控制台 // 分类目录: 小组专区、成果展示、团队历程 exports.category = function(req, res){ var strUrl = req.url,// 字符串URL,如 /group arrayUrl = strUrl.split("/"),// 把字符串以“/”分割成字符串数组 category = arrayUrl[arrayUrl.length-1],// 获取分类目录的值 total,// 总文章数 pagenum, // 页数 perpagenum = 10,// 每页的条数 posts = [], pages = []; // console.log(category); models.articles.find({classes: category}, function(err, articles){ articles = articles.reverse();// 颠倒数组中元素的顺序 total = articles.length; pagenum = Math.ceil(total / perpagenum);// 对页数进行上舍入 // console.log(pagenum); for(var i = 0,len = pagenum; i &lt; len; i++){ pages[i] = i + 1; } for(var i = 0,len = (perpagenum &lt; total ? perpagenum : total); i &lt; len; i++){ posts[i] = articles[i]; } res.render('category', { title: '新思路团队网站 - NewThread', total: total, category: category, current_page: '1', perpagenum: perpagenum, pages: pages, posts: posts }); }); }; // 分类目录分页 exports.category_page = function(req, res){ var strUrl = req.url,// 字符串URL,如 /group/page/1 arrayUrl = strUrl.split("/"),// 把字符串以“/”分割成字符串数组 category = arrayUrl[1],// 获取分类目录的值 page = arrayUrl[arrayUrl.length-1],// 获取page的值 total,// 总文章数 pagenum, // 页数 perpagenum = 10,// 每页的条数 posts = [], pages = []; if( !isNaN(page) ){// 判断是否是数字 page = page; }else{ page = 1; } console.log(category); models.articles.find({classes: category}, function(err, articles){ articles = articles.reverse();// 颠倒数组中元素的顺序 total = articles.length; pagenum = Math.ceil(total / perpagenum);// 对页数进行上舍入 // console.log(pagenum); for(var i = 0,len = pagenum; i &lt; len; i++){ pages[i] = i + 1; } for(var i = (page-1) * perpagenum,j = 0,len = (page * perpagenum &lt; total ? page * perpagenum : total); i &lt; len; i++,j ++){ posts[j] = articles[i]; } res.render('page', { title: '新思路团队网站 - NewThread', total: total, category: category, current_page: page, perpagenum: perpagenum, pages: pages, posts: posts }); }); };</textarea>
              </div>
              <div class="crayon-main" style="">
                <table class="crayon-table">
                  <tr class="crayon-row">
                    <td class="crayon-nums" data-settings="show">
                      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-1">1</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-2">2</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-3">3</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-4">4</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-5">5</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-6">6</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-7">7</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-8">8</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-9">9</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-10">10</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-11">11</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-12">12</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-13">13</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-14">14</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-15">15</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-16">16</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-17">17</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-18">18</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-19">19</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-20">20</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-21">21</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-22">22</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-23">23</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-24">24</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-25">25</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-26">26</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-27">27</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-28">28</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-29">29</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-30">30</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-31">31</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-32">32</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-33">33</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-34">34</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-35">35</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-36">36</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-37">37</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-38">38</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-39">39</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-40">40</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-41">41</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-42">42</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-43">43</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-44">44</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-45">45</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-46">46</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-47">47</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-48">48</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-49">49</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-50">50</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-51">51</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-52">52</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-53">53</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-54">54</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-55">55</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-56">56</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-57">57</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-58">58</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-59">59</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-60">60</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-61">61</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-62">62</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-63">63</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-64">64</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-65">65</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-66">66</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-67">67</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-68">68</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-69">69</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-70">70</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-71">71</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-72">72</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-73">73</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ad4633927238-74">74</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ad4633927238-75">75</div>
                      </div>
                    </td>
                    <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4;"><div class="crayon-line" id="crayon-589c4fff50ad4633927238-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'../models/models.js'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-2"><span class="crayon-c">// 分类目录控制台</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-4"><span class="crayon-c">// 分类目录: 小组专区、成果展示、团队历程</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-5"><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">category</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">strUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">,</span><span class="crayon-c">// 字符串URL,如 /group</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">arrayUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">strUrl</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">"/"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-c">// 把字符串以“/”分割成字符串数组</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">category</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">arrayUrl</span><span class="crayon-sy">[</span><span class="crayon-v">arrayUrl</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-c">// 获取分类目录的值</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-sy">,</span><span class="crayon-c">// 总文章数</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagenum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-c">// 页数</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-c">// 每页的条数</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// console.log(category);</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">classes</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">category</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">articles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// 颠倒数组中元素的顺序</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagenum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">ceil</span><span class="crayon-sy">(</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// 对页数进行上舍入</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// console.log(pagenum);</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pagenum</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbnbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-i">total</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-s">'category'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'新思路团队网站 - NewThread'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">category</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">category</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">current_page</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'1'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perpagenum</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">pages</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">posts</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-36"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-37"><span class="crayon-c">// 分类目录分页</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-38"><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">category_page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">strUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">url</span><span class="crayon-sy">,</span><span class="crayon-c">// 字符串URL,如 /group/page/1</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">arrayUrl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">strUrl</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">"/"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-c">// 把字符串以“/”分割成字符串数组</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">category</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">arrayUrl</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-c">// 获取分类目录的值</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">arrayUrl</span><span class="crayon-sy">[</span><span class="crayon-v">arrayUrl</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-c">// 获取page的值</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-sy">,</span><span class="crayon-c">// 总文章数</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagenum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-c">// 页数</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-c">// 每页的条数</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-e">isNaN</span><span class="crayon-sy">(</span><span class="crayon-v">page</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-c">// 判断是否是数字</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">page</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">category</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">classes</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">category</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">articles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// 颠倒数组中元素的顺序</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pagenum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">ceil</span><span class="crayon-sy">(</span><span class="crayon-v">total</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-c">// 对页数进行上舍入</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// console.log(pagenum);</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pagenum</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">page</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">,</span><span class="crayon-v">j</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">len</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e ">page *</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-i">total</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-e ">page *</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">len</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">,</span><span class="crayon-v">j</span><span class="crayon-h"> </span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-sy">[</span><span class="crayon-v">j</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-s">'page'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'新思路团队网站 - NewThread'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">total</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">total</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">category</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">category</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">current_page</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">page</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">perpagenum</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">perpagenum</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pages</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">pages</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">posts</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">posts</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ad4633927238-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ad4633927238-75"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div></div></td>
                  </tr>
                </table>
              </div>
            </div>
            <!-- [Format Time: 0.0140 seconds] -->
            <h3>5.3 搜索</h3>
            <h4>1）search.html</h4>
            <!-- Crayon Syntax Highlighter v2.7.1 -->
            <div id="crayon-589c4fff50adc955207760" class="crayon-syntax crayon-theme-familiar crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings="minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
              <div class="crayon-toolbar" data-settings="mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                <span class="crayon-title">search.html</span>
                <div class="crayon-tools" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                  <span class="crayon-mixed-highlight" title="含多种语言"></span>
                  <div class="crayon-button crayon-nums-button" title="切换是否显示行编号">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-plain-button" title="纯文本显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-wrap-button" title="切换自动换行">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-expand-button" title="点击展开代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-copy-button" title="复制代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-popup-button" title="在新窗口中显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                </div>
              </div>
              <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
              <div class="crayon-plain-wrap">
                <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4; font-size: 12px !important; line-height: 15px !important;">{% extends './layouts/web.html' %} {% block content %} &lt;div class="main"&gt; &lt;header id="search-head"&gt; &lt;form class="searchform" action="/search" method="GET"&gt; &lt;input type="text" name="s" value="{{s}}" id="s" placeholder="输入关键字"&gt; &lt;input type="submit" name="submit" value="精确搜索" class="accurate-search"&gt; &lt;input type="submit" name="submit" value="模糊搜索" class="fuzzy-search"&gt; &lt;/form&gt; {% if submit === '精确搜索' %} &lt;h2 class="search-title"&gt;共搜索到 {{titles.length}} 篇标题相关文章，{{authors.length}} 篇作者相关文章，{{tags.length}} 篇标签相关文章。&lt;/h2&gt; &lt;nav id="search-nav"&gt; &lt;a class="active"&gt;标题&lt;/a&gt;&lt;b&gt;|&lt;/b&gt; &lt;a&gt;作者&lt;/a&gt;&lt;b&gt;|&lt;/b&gt; &lt;a&gt;标签&lt;/a&gt; &lt;/nav&gt; {% else %} &lt;h2 class="search-title"&gt;共搜索到 {{contents.length}} 篇相关文章。&lt;/h2&gt; &lt;nav id="search-nav"&gt;&lt;/nav&gt; {% endif %} &lt;/header&gt; &lt;div id="search-results"&gt; {% if submit === '精确搜索' %} &lt;section class="articles" style="display: block;"&gt; {% if err %} &lt;p&gt;{{ signal }}&lt;/p&gt; {% endif %} {% if titles.length %} {% for post in titles -%} &lt;article class="article"&gt; &lt;a href="/article/{{post.id}}"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;&lt;a href="/article/{{post.id}}"&gt;{{post.title}}&lt;/a&gt;&lt;/h1&gt; &lt;span&gt;{{post.time}} / &lt;a href="/{{post.author}}"&gt;{{post.author}}&lt;/a&gt; / &lt;a href="/{{post.classes}}"&gt;{{post.classes}}&lt;/a&gt; / &lt;a href="/article/{{post.id}}/#respond"&gt;{{post.comments.users.length + post.comments.visitor.length}} Comments&lt;/a&gt;&lt;/span&gt; &lt;p&gt;{{post.content}}&lt;a href="/article/{{post.id}}"&gt; 阅读全文&lt;/a&gt;&lt;/p&gt; &lt;span class="article-tag"&gt;{% for tag in post.tag -%}&lt;a href="/tag/{{tag}}"&gt;{{tag}}&lt;/a&gt;{%- endfor %}&lt;/span&gt; &lt;/section&gt; &lt;/article&gt; {%- endfor %} {% else %} &lt;p&gt;{{ '找不到与“' + s + '”相关的内容' }}&lt;/p&gt; {% endif %} &lt;/section&gt; &lt;section class="articles" style="display: none;"&gt; {% if err %} &lt;p&gt;{{ signal }}&lt;/p&gt; {% endif %} {% if authors.length %} {% for post in authors -%} &lt;article class="article"&gt; &lt;a href="/article/{{post.id}}"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;&lt;a href="/article/{{post.id}}"&gt;{{post.title}}&lt;/a&gt;&lt;/h1&gt; &lt;span&gt;{{post.time}} / &lt;a href="/{{post.author}}"&gt;{{post.author}}&lt;/a&gt; / &lt;a href="/{{post.classes}}"&gt;{{post.classes}}&lt;/a&gt; / &lt;a href="/article/{{post.id}}/#respond"&gt;{{post.comments.users.length + post.comments.visitor.length}} Comments&lt;/a&gt;&lt;/span&gt; &lt;p&gt;{{post.content}}&lt;a href="/article/{{post.id}}"&gt; 阅读全文&lt;/a&gt;&lt;/p&gt; &lt;span class="article-tag"&gt;{% for tag in post.tag -%}&lt;a href="/tag/{{tag}}"&gt;{{tag}}&lt;/a&gt;{%- endfor %}&lt;/span&gt; &lt;/section&gt; &lt;/article&gt; {%- endfor %} {% else %} &lt;p&gt;{{ '找不到与“' + s + '”相关的内容' }}&lt;/p&gt; {% endif %} &lt;/section&gt; &lt;section class="articles" style="display: none;"&gt; {% if err %} &lt;p&gt;{{ signal }}&lt;/p&gt; {% endif %} {% if tags.length %} {% for post in tags -%} &lt;article class="article"&gt; &lt;a href="/article/{{post.id}}"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;&lt;a href="/article/{{post.id}}"&gt;{{post.title}}&lt;/a&gt;&lt;/h1&gt; &lt;span&gt;{{post.time}} / &lt;a href="/{{post.author}}"&gt;{{post.author}}&lt;/a&gt; / &lt;a href="/{{post.classes}}"&gt;{{post.classes}}&lt;/a&gt; / &lt;a href="/article/{{post.id}}/#respond"&gt;{{post.comments.users.length + post.comments.visitor.length}} Comments&lt;/a&gt;&lt;/span&gt; &lt;p&gt;{{post.content}}&lt;a href="/article/{{post.id}}"&gt; 阅读全文&lt;/a&gt;&lt;/p&gt; &lt;span class="article-tag"&gt;{% for tag in post.tag -%}&lt;a href="/tag/{{tag}}"&gt;{{tag}}&lt;/a&gt;{%- endfor %}&lt;/span&gt; &lt;/section&gt; &lt;/article&gt; {%- endfor %} {% else %} &lt;p&gt;{{ '找不到与“' + s + '”相关的内容' }}&lt;/p&gt; {% endif %} &lt;/section&gt; {% else %} &lt;section class="articles" style="display: block;"&gt; {% if err %} &lt;p&gt;{{ signal }}&lt;/p&gt; {% endif %} {% if contents.length %} {% for post in contents -%} &lt;article class="article"&gt; &lt;a href="/article/{{post.id}}"&gt;&lt;img src="/files/article.jpg"&gt;&lt;/a&gt; &lt;section&gt; &lt;h1&gt;&lt;a href="/article/{{post.id}}"&gt;{{post.title}}&lt;/a&gt;&lt;/h1&gt; &lt;span&gt;{{post.time}} / &lt;a href="/{{post.author}}"&gt;{{post.author}}&lt;/a&gt; / &lt;a href="/{{post.classes}}"&gt;{{post.classes}}&lt;/a&gt; / &lt;a href="/article/{{post.id}}/#respond"&gt;{{post.comments.users.length + post.comments.visitor.length}} Comments&lt;/a&gt;&lt;/span&gt; &lt;p&gt;{{post.content}}&lt;a href="/article/{{post.id}}"&gt; 阅读全文&lt;/a&gt;&lt;/p&gt; &lt;span class="article-tag"&gt;{% for tag in post.tag -%}&lt;a href="/tag/{{tag}}"&gt;{{tag}}&lt;/a&gt;{%- endfor %}&lt;/span&gt; &lt;/section&gt; &lt;/article&gt; {%- endfor %} {% else %} &lt;p&gt;{{ '找不到与“' + s + '”相关的内容' }}&lt;/p&gt; {% endif %} &lt;/section&gt; {% endif %} &lt;aside class="sidebar"&gt;&lt;/aside&gt; &lt;section class="clear"&gt;&lt;/section&gt; &lt;/div&gt; &lt;/div&gt; &lt;!--搜索页面脚本文件--&gt; &lt;script type="text/javascript" src="/script/search.js"&gt;&lt;/script&gt; {% endblock %}</textarea>
              </div>
              <div class="crayon-main" style="">
                <table class="crayon-table">
                  <tr class="crayon-row">
                    <td class="crayon-nums" data-settings="show">
                      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-1">1</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-2">2</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-3">3</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-4">4</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-5">5</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-6">6</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-7">7</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-8">8</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-9">9</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-10">10</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-11">11</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-12">12</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-13">13</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-14">14</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-15">15</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-16">16</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-17">17</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-18">18</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-19">19</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-20">20</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-21">21</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-22">22</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-23">23</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-24">24</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-25">25</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-26">26</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-27">27</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-28">28</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-29">29</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-30">30</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-31">31</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-32">32</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-33">33</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-34">34</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-35">35</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-36">36</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-37">37</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-38">38</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-39">39</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-40">40</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-41">41</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-42">42</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-43">43</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-44">44</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-45">45</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-46">46</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-47">47</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-48">48</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-49">49</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-50">50</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-51">51</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-52">52</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-53">53</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-54">54</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-55">55</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-56">56</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-57">57</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-58">58</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-59">59</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-60">60</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-61">61</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-62">62</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-63">63</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-64">64</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-65">65</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-66">66</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-67">67</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-68">68</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-69">69</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-70">70</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-71">71</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-72">72</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-73">73</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-74">74</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-75">75</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-76">76</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-77">77</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-78">78</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-79">79</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-80">80</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-81">81</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-82">82</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-83">83</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-84">84</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-85">85</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-86">86</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-87">87</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-88">88</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-89">89</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-90">90</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-91">91</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-92">92</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-93">93</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-94">94</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-95">95</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-96">96</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-97">97</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-98">98</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-99">99</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-100">100</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-101">101</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-102">102</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-103">103</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-104">104</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-105">105</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-106">106</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-107">107</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-108">108</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-109">109</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-110">110</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-111">111</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50adc955207760-112">112</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50adc955207760-113">113</div>
                      </div>
                    </td>
                    <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4;"><div class="crayon-line" id="crayon-589c4fff50adc955207760-1"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-s">'./layouts/web.html'</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-2">&nbsp;</div><div class="crayon-line" id="crayon-589c4fff50adc955207760-3"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">block </span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-4"><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"main"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">header </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"search-head"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">form </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"searchform"</span><span class="crayon-h"> </span><span class="crayon-v">action</span><span class="crayon-o">=</span><span class="crayon-s">"/search"</span><span class="crayon-h"> </span><span class="crayon-v">method</span><span class="crayon-o">=</span><span class="crayon-s">"GET"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"s"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"{{s}}"</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"s"</span><span class="crayon-h"> </span><span class="crayon-v">placeholder</span><span class="crayon-o">=</span><span class="crayon-s">"输入关键字"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"submit"</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"submit"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"精确搜索"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"accurate-search"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">"submit"</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-s">"submit"</span><span class="crayon-h"> </span><span class="crayon-v">value</span><span class="crayon-o">=</span><span class="crayon-s">"模糊搜索"</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"fuzzy-search"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">form</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">submit</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'精确搜索'</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h2 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"search-title"</span><span class="crayon-o">&gt;</span>共搜索到<span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">titles</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span>篇标题相关文章，<span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">authors</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span>篇作者相关文章，<span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">tags</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span>篇标签相关文章。<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h2</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">nav </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"search-nav"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"active"</span><span class="crayon-o">&gt;</span>标题<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-v">b</span><span class="crayon-o">&gt;</span><span class="crayon-o">|</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">b</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span>作者<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-v">b</span><span class="crayon-o">&gt;</span><span class="crayon-o">|</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">b</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span>标签<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">nav</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">h2 </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"search-title"</span><span class="crayon-o">&gt;</span>共搜索到<span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">contents</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span>篇相关文章。<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">h2</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">nav </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"search-nav"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">nav</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">header</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">div </span><span class="crayon-v">id</span><span class="crayon-o">=</span><span class="crayon-s">"search-results"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">submit</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'精确搜索'</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"articles"</span><span class="crayon-h"> </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-s">"display: block;"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">err</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">signal</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">titles</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">post </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">titles</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">time</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.author}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">author</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.classes}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">classes</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}/#respond"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">visitor</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-e">Comments</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>阅读全文<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article-tag"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">tag </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">tag</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/tag/{{tag}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">tag</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">'找不到与“'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'”相关的内容'</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"articles"</span><span class="crayon-h"> </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-s">"display: none;"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">err</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">signal</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">authors</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">post </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">authors</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">time</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.author}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">author</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.classes}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">classes</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}/#respond"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">visitor</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-e">Comments</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>阅读全文<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article-tag"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">tag </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">tag</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/tag/{{tag}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">tag</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">'找不到与“'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'”相关的内容'</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"articles"</span><span class="crayon-h"> </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-s">"display: none;"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">err</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">signal</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">tags</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">post </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">tags</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">time</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.author}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">author</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.classes}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">classes</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}/#respond"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">visitor</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-e">Comments</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>阅读全文<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article-tag"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">tag </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">tag</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/tag/{{tag}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">tag</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">'找不到与“'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'”相关的内容'</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"articles"</span><span class="crayon-h"> </span><span class="crayon-v">style</span><span class="crayon-o">=</span><span class="crayon-s">"display: block;"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">err</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-i">signal</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">contents</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">post </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">contents</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">article </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-e">img </span><span class="crayon-v">src</span><span class="crayon-o">=</span><span class="crayon-s">"/files/article.jpg"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-v">h1</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">title</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">h1</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">time</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.author}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">author</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/{{post.classes}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">classes</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}/#respond"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">users</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">comments</span><span class="crayon-sy">.</span><span class="crayon-v">visitor</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-e">Comments</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">content</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/article/{{post.id}}"</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>阅读全文<span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">a</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"article-tag"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">tag </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">post</span><span class="crayon-sy">.</span><span class="crayon-v">tag</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">href</span><span class="crayon-o">=</span><span class="crayon-s">"/tag/{{tag}}"</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-v">tag</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">a</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">span</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">article</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-st">endfor</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">'找不到与“'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'”相关的内容'</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">}</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">p</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-st">endif</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">aside </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"sidebar"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">aside</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-e">section </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"clear"</span><span class="crayon-o">&gt;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">section</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-110"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-e">div</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-111"><span class="crayon-o">&lt;</span><span class="crayon-o">!</span><span class="crayon-o">--</span>搜索页面脚本文件<span class="crayon-o">--</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50adc955207760-112"><span class="crayon-ta">&lt;script </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s">"text/javascript"</span><span class="crayon-h"> </span><span class="crayon-e ">src</span><span class="crayon-o">=</span><span class="crayon-s">"/script/search.js"</span><span class="crayon-o">&gt;</span><span class="crayon-ta">&lt;/script&gt;</span></div><div class="crayon-line" id="crayon-589c4fff50adc955207760-113"><span class="crayon-sy">{</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-v">endblock</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-sy">}</span></div></div></td>

                  </tr>
                </table>
              </div>
            </div>
            <!-- [Format Time: 0.0350 seconds] -->
            <h4>2）search_controls.js</h4>
            <!-- Crayon Syntax Highlighter v2.7.1 -->
            <div id="crayon-589c4fff50ae6591780439" class="crayon-syntax crayon-theme-familiar crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings="minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
              <div class="crayon-toolbar" data-settings="mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                <span class="crayon-title">search_controls.js</span>
                <div class="crayon-tools" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important;">
                  <div class="crayon-button crayon-nums-button" title="切换是否显示行编号">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-plain-button" title="纯文本显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-wrap-button" title="切换自动换行">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-expand-button" title="点击展开代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-copy-button" title="复制代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                  <div class="crayon-button crayon-popup-button" title="在新窗口中显示代码">
                    <div class="crayon-button-icon"></div>
                  </div>
                </div>
              </div>
              <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
              <div class="crayon-plain-wrap">
                <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4; font-size: 12px !important; line-height: 15px !important;">var models = require('../models/models.js'); // 搜索控制台 //搜索 exports.search = function(req, res){ var s = req.query.s,// 获取输入的关键字。如果是POST方式，语句为 s = req.body.s submit = req.query.submit,// 模糊搜索。如果是POST方式，语句为submit = req.body.submit regex = eval('/' + s + '/'),// 正则表达式中使用变量，使用eval()将组合的字符串进行转换 titles = [],// 该数组用于存放与标题相关的文章 authors = [],// 该数组用于存放与作者相关的文章 tags = [],// 该数组用于存放与标签相关的文章 contents = [];// 该数组用于存放与内容相关的文章 // if(s.charAt(s.length-1) === "/"){ // regex = eval('/' + s); // }else{ // regex = eval('/' + s + '/') // } console.log(s); console.log(submit); if(s.length){ if(submit === "精确搜索"){ models.articles.find({title: regex}, function(err, articles){// 查询与标题相关的文章 if(err) return console.error(err); // for(var i = 0,len = articles.length; i &lt; len; i++){ // titles[i] = articles[len-i-1]; // } titles = articles.reverse(); }); models.articles.find({author: regex}, function(err, articles){// 查询与作者相关的文章 if(err) return console.error(err); authors = articles.reverse(); }); models.articles.find({tag: regex}, function(err, articles){// 查询与标签相关的文章 if(err) return console.error(err); tags = articles.reverse(); res.render('search', { title: '搜索结果 - 新思路团队网站', s: s, submit: submit, titles: titles, authors: authors, tags: tags }); }); }else{ models.articles.find({content: regex}, function(err, articles){// 查询与内容相关的文章 if(err) return console.error(err); contents = articles.reverse(); res.render('search', { title: '搜索结果 - 新思路团队网站', s: s, submit: submit, contents: contents }); }); } }else{ console.log('输入不能为空'); res.render('search', { title: '搜索结果 - 新思路团队网站', err: true, signal: '输入不能为空' }); } };</textarea>
              </div>
              <div class="crayon-main" style="">
                <table class="crayon-table">
                  <tr class="crayon-row">
                    <td class="crayon-nums" data-settings="show">
                      <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-1">1</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-2">2</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-3">3</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-4">4</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-5">5</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-6">6</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-7">7</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-8">8</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-9">9</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-10">10</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-11">11</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-12">12</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-13">13</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-14">14</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-15">15</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-16">16</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-17">17</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-18">18</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-19">19</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-20">20</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-21">21</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-22">22</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-23">23</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-24">24</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-25">25</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-26">26</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-27">27</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-28">28</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-29">29</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-30">30</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-31">31</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-32">32</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-33">33</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-34">34</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-35">35</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-36">36</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-37">37</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-38">38</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-39">39</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-40">40</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-41">41</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-42">42</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-43">43</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-44">44</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-45">45</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-46">46</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-47">47</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-48">48</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-49">49</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-50">50</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-51">51</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-52">52</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-53">53</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-54">54</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-55">55</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-56">56</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-57">57</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-58">58</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-59">59</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-60">60</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-61">61</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-62">62</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-63">63</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-64">64</div>
                        <div class="crayon-num" data-line="crayon-589c4fff50ae6591780439-65">65</div>
                        <div class="crayon-num crayon-striped-num" data-line="crayon-589c4fff50ae6591780439-66">66</div>
                      </div>
                    </td>
                    <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size: 4; -o-tab-size: 4; -webkit-tab-size: 4; tab-size: 4;"><div class="crayon-line" id="crayon-589c4fff50ae6591780439-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">models</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'../models/models.js'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-2"><span class="crayon-c">// 搜索控制台</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-4"><span class="crayon-c">//搜索</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-5"><span class="crayon-v">exports</span><span class="crayon-sy">.</span><span class="crayon-v">search</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">req</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">s</span><span class="crayon-sy">,</span><span class="crayon-c">// 获取输入的关键字。如果是POST方式，语句为 s = req.body.s</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">submit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">req</span><span class="crayon-sy">.</span><span class="crayon-v">query</span><span class="crayon-sy">.</span><span class="crayon-v">submit</span><span class="crayon-sy">,</span><span class="crayon-c">// 模糊搜索。如果是POST方式，语句为submit = req.body.submit</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">regex</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">eval</span><span class="crayon-sy">(</span><span class="crayon-s">'/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'/'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-c">// 正则表达式中使用变量，使用eval()将组合的字符串进行转换</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">titles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-c">// 该数组用于存放与标题相关的文章</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">authors</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-c">// 该数组用于存放与作者相关的文章</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tags</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-c">// 该数组用于存放与标签相关的文章</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contents</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-c">// 该数组用于存放与内容相关的文章</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// if(s.charAt(s.length-1) === "/"){</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp; regex = eval('/' + s);</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// }else{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp; regex = eval('/' + s + '/')</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// }</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">submit</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">submit</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">"精确搜索"</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">regex</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-c">// 查询与标题相关的文章</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// for(var i = 0,len = articles.length; i &lt; len; i++){</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp; titles[i] = articles[len-i-1];</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// }</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">titles</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">author</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">regex</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-c">// 查询与作者相关的文章</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">authors</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">tag</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">regex</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-c">// 查询与标签相关的文章</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tags</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-s">'search'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'搜索结果 - 新思路团队网站'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">submit</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">submit</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">titles</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">titles</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">authors</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">authors</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tags</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">tags</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">find</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">content</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">regex</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-c">// 查询与内容相关的文章</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">error</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contents</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">articles</span><span class="crayon-sy">.</span><span class="crayon-e">reverse</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-s">'search'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'搜索结果 - 新思路团队网站'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">submit</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">submit</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contents</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">contents</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-st">else</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">console</span><span class="crayon-sy">.</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">'输入不能为空'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">render</span><span class="crayon-sy">(</span><span class="crayon-s">'search'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">title</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'搜索结果 - 新思路团队网站'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">err</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">signal</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'输入不能为空'</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-589c4fff50ae6591780439-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-589c4fff50ae6591780439-66"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div></div></td>
                  </tr>
                </table>
              </div>
            </div>
            <!-- [Format Time: 0.0102 seconds] -->
          </section>
          <section class="article-copyright">
            <p>感谢你的阅读，本文版权归 <a href="https://bizhongbio.github.io/">双鱼bizhongbio</a> 所有，转载时请注明出处。<br/>注明出处格式：双鱼bizhongbio（<a title="CMS首页、分页、搜索的实现" href="https://bizhongbio.github.io/article/cms-home-page-search/">https://bizhongbio.github.io/article/cms-home-page-search/</a>）</p>
          </section>
          <section class="article-adjacent">
            上一篇：<a href="./article/wordpress-4-1-new-function/" rel="prev">WordPress 4.1新增函数</a><br/>
            下一篇：<a href="./article/speed-up-wordpress-website/" rel="next">加速WordPress站点</a><br/>
          </section>
          <section class="article-share">
            <h2>分享到</h2>
            <div class="bdsharebuttonbox">
              <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
              <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
              <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
              <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
              <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
              <a href="#" class="bds_more" data-cmd="more"></a>
              <a class="bds_count"></a>
            </div>
            <div class="clear"></div>
          </section>
          <section class="article-related">
            <h2>相关文章</h2>
            <ul class="related-articles">
              <li class="related-article">
                <figure>
                  <a href="./article/nodejs-summary/" target="_blank">
                    <img src="./article/nodejs-summary/nodejs-summary.png" alt="Node.js概述">
                  </a>
                  <figcaption>
                    <a href="./article/nodejs-summary/" title="Node.js概述" rel="bookmark">Node.js概述</a>
                  </figcaption>
                </figure>
              </li>
              <li class="related-article">
                <figure>
                  <a href="./article/node-movie/" target="_blank">
                    <img src="./article/node-movie/node-movie.png" alt="电影预告片">
                  </a>
                  <figcaption>
                    <a href="./article/node-movie/" title="电影预告片" rel="bookmark">电影预告片</a>
                  </figcaption>
                </figure>
              </li>
              <div class="clear"></div>
            </ul>
          </section>
          <section class="article-comment">
            <div class="comments">
              <a name="comments"></a>
              <h2>2条评论</h2>
              <ol class="commentslist">
                <li class="comment" id="li-comment-139">
                  <div class="author-face">高</div>
                  <div class="comment-content" id="comment-139">高
                    <span class="comment-meta">2015.11.19 11:14</span>
                    <div class="comment-text">
                      <p>棒棒哒！</p>
                    </div>
                  </div>
                </li>
                <li class="comment" id="li-comment-187">
                  <div class="author-face">玉</div>
                  <div class="comment-content" id="comment-187">
                    <a href='http://www.baidu.com' rel='external nofollow' class='url'>玉希丽</a>
                    <span class="comment-meta">2015.12.19 20:21</span>
                    <div class="comment-text">
                      <p>学长好牛哦！带学妹飞。</p>
                    </div>
                  </div>
                </li>
              </ol>
            </div>
            <div class="respond">
              <a name="respond"></a>
              <h2>发表评论</h2>
              <form class="commentform" name="commentform" action="javascript:void(0);" method="post">
                <input id="author" type="text" name="author" tabindex="1" value="" placeholder="姓名（必填）" />
                <input id="email" type="text" name="email" tabindex="2" value="" placeholder="Email（必填）" />
                <input id="url" type="text" name="url" tabindex="3" value="" placeholder="网站" />
                <textarea id="comment" name="comment" tabindex="4" placeholder="说点什么吧"></textarea>
                <input id="commentsubmit" type="submit" name="submit" value="发表评论" />
                <input type='hidden' name='comment_post_ID' value='170' id='comment_post_ID' />
                <input id='comment_parent' type='hidden' name='comment_parent' value='0' />
                <input id="comment_mail_notify" name="comment_mail_notify" type="checkbox" value="comment_mail_notify" checked>
                <label for="comment_mail_notify">回复时邮件通知我</label>
              </form>
            </div>
          </section>
        </article>
        <aside class="sidebar">
          <article class="promos">
            <a href="https://github.com/bizhong" title="bizhong (Bizhong Lan) &middot; GitHub" target="_blank"><i class="fa fa-github"></i> GitHub</a>
          </article>
          <section class="recommended-posts">
            <h2>推荐文章</h2>
            <ul>
              <li>
                <a href="./article/analyse-response-web-design/" title="浅析RWD">浅析RWD</a>
                <span><a href="./article/analyse-response-web-design/index.html#comments">评论15</a></span>
              </li>
              <li>
                <a href="./article/css-summary/" title="CSS总结">CSS总结</a>
                <span><a href="./article/css-summary/index.html#comments">评论10</a></span>
              </li>
              <li>
                <a href="./article/speed-up-wordpress-website/" title="加速WordPress站点">加速WordPress站点</a>
                <span><a href="./article/speed-up-wordpress-website/index.html#comments">评论9</a></span>
              </li>
              <li>
                <a href="./article/nodejs-summary/" title="Node.js概述">Node.js概述</a>
                <span><a href="./article/nodejs-summary/index.html#comments">评论8</a></span>
              </li>
              <li>
                <a href="./article/nine-principle-material-design/" title="Material Design的九大设计原则">Material Design的九…</a>
                <span><a href="./article/nine-principle-material-design/index.html#comments">评论8</a></span>
              </li>
              <li>
                <a href="./article/second-time-to-see-snow/" title="第二次见到雪">第二次见到雪</a>
                <span><a href="./article/second-time-to-see-snow/index.html#comments">评论6</a></span>
              </li>
              <li>
                <a href="./article/zjz-portfolios/" title="章同学作品集">章同学作品集</a>
                <span><a href="./article/zjz-portfolios/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/background-design-trend/" title="大背景底图设计趋势">大背景底图设计趋势</a>
                <span><a href="./article/background-design-trend/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/a-word-bless-college-entrance-students/" title="一句话祝福高考生">一句话祝福高考生</a>
                <span><a href="./article/a-word-bless-college-entrance-students/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/fixed-right-sidebar-scroll-effect/" title="固定右侧边栏滚动特效">固定右侧边栏滚动特效</a>
                <span><a href="./article/fixed-right-sidebar-scroll-effect/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/hello-world/" title="世界，你好！">世界，你好！</a>
                <span><a href="./article/hello-world/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/home-scrolling-effects/" title="首页滚动特效">首页滚动特效</a>
                <span><a href="./article/home-scrolling-effects/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/singlepage-web-design/" title="单页网页设计">单页网页设计</a>
                <span><a href="./article/singlepage-web-design/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/html-css-code-guide/" title="HTML&amp;CSS编码规范">HTML&amp;CSS编码规范</a>
                <span><a href="./article/html-css-code-guide/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/strange-background-homepage/" title="诡异的背景首页">诡异的背景首页</a>
                <span><a href="./article/strange-background-homepage/index.html#comments">评论3</a></span>
              </li>
              <li>
                <a href="./article/jquery-slides/" title="jQuery图片轮播">jQuery图片轮播</a>
                <span><a href="./article/jquery-slides/index.html#comments">评论2</a></span>
              </li>
            </ul>
          </section>
          <section class="recent-comments">
            <h2>近期评论</h2>
            <li>
              <div class="comment-author">B</div>
              <div class="comment-main">
                <a href="./article/a-word-bless-college-entrance-students/index.html#comment-452">Bell</a>
                <p>This website very nice, I liked it!</p>
              </div>
            </li>
            <li>
              <div class="comment-author">达</div>
              <div class="comment-main">
                <a href="./article/nodejs-summary/index.html#comment-441">达达</a>
                <p>你的博客就像冬天里的一把火！</p>
              </div>
            </li>
            <li>
              <div class="comment-author">游</div>
              <div class="comment-main">
                <a href="./article/nodejs-summary/index.html#comment-434">游客</a>
                <p>访问您的博客已成习惯！</p>
              </div>
            </li>
            <li>
              <div class="comment-author">访</div>
              <div class="comment-main">
                <a href="./article/nodejs-summary/index.html#comment-433">访客</a>
                <p>学习带来乐趣，谢谢博主！</p>
              </div>
            </li>
            <li>
              <div class="comment-author">娜</div>
              <div class="comment-main">
                <a href="./article/nodejs-summary/index.html#comment-429">娜娜</a>
                <p>来看看，学习学习！！</p>
              </div>
            </li>
            <li>
              <div class="comment-author">亚</div>
              <div class="comment-main">
                <a href="./article/second-time-to-see-snow/index.html#comment-418">亚洲</a>
                <p>博客不错，主题挺漂亮的。</p>
              </div>
            </li>
            <li>
              <div class="comment-author">达</div>
              <div class="comment-main">
                <a href="./article/nodejs-summary/index.html#comment-406">达达</a>
                <p>偶然来访，受益良多！</p>
              </div>
            </li>
            <li>
              <div class="comment-author">尚</div>
              <div class="comment-main">
                <a href="./article/nodejs-summary/index.html#comment-397">尚先生</a>
                <p>感觉很不错的样子！</p>
              </div>
            </li>
            <li>
              <div class="comment-author">小</div>
              <div class="comment-main">
                <a href="./article/nodejs-summary/index.html#comment-395">小米</a>
                <p>随便看看，随便转转！</p>
              </div>
            </li>
            <li>
              <div class="comment-author">娜</div>
              <div class="comment-main">
                <a href="./article/nodejs-summary/index.html#comment-394">娜娜</a>
                <p>风吹过，我来过！</p>
              </div>
            </li>
          </section>
        </aside>
        <div class="clear"></div>
      </div>
    </main>
    <footer class="footer" role="contentinfo">
      <div class="footer-content">
        <aside class="link">
          <h2>友情链接</h2>
          <ul>
            <li><a href="http://www.new-thread.com/" title="新思路团队网站 - NewThread" target="_blank">新思路团队网站 - NewThread</a></li>
            <li><a href="http://www.xuanfengge.com/" title="轩枫阁 – 前端开发 | web前端技术博客" target="_blank">轩枫阁</a></li>
            <li><a href="http://www.niices.com/" title="蓝色栗子" target="_blank">蓝色栗子</a></li>
            <li><a href="http://www.petite-dd.com/" title="petite-dd丨文艺的聚集地" target="_blank">petite-dd丨文艺的聚集地</a></li>
            <li><a href="http://greenfavo.com/" title="greenfavo-前端学习笔记" target="_blank">greenfavo-前端学习笔记</a></li>
            <li><a href="http://www.shuliqiyzs.com/" title="叮当猫~~前端爱好者" target="_blank">叮当猫~~前端爱好者</a></li>
            <li><a href="http://www.h-five.com/" title="默识者" target="_blank">默识者</a></li>
          </ul>
          <div class="clear"></div>
        </aside>
        <section class="copyright">
          <p>&copy; 2014-<script>document.write((new Date()).getFullYear());</script> <a href="./">双鱼bizhongbio</a> <a href="./sitemap.html" target="_blank">网站地图</a></p>
        </section>
      </div>
      <a id="go-top" href="javascript:scroll(0,0);"><i class="fa fa-long-arrow-up"></i></a>
    </footer>
    <script src="./asset/dep/jquery/jquery-3.1.1.min.js"></script>
    <script src="./asset/js/bizhongbio.min.js"></script>
    <script type="text/javascript">
      /* <![CDATA[ */
      var CrayonSyntaxSettings = {
        "version": "2.8.4",
        "is_admin": "0",
        "ajaxurl": "https:\/\/bizhongbio.github.io\/",
        "prefix": "crayon-",
        "setting": "crayon-setting",
        "selected": "crayon-setting-selected",
        "changed": "crayon-setting-changed",
        "special": "crayon-setting-special",
        "orig_value": "data-orig-value",
        "debug": ""
      };
      var CrayonSyntaxStrings = {
        "copy": "\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002",
        "minimize": "\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"
      };
      /* ]]&gt; */
    </script>
    <script type="text/javascript" src="./asset/dep/crayon-syntax-highlighter/js/min/crayon.min.js"></script>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
  </body>
</html>